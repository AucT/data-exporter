# data exporter

data exporter - командна утиліта написана на go, що дозволяє витягти дані з сайту. Наприклад свої оцінки з "кинопоиск" у файл csv.

## Чому?
Для вивчення go, вирішив зробити першу програму. Ідей особливо не було, тож згадав про фільми. Сам я уже з 2015 не використовую "кинопоиск" та успішно перейшов на imdb та частково використовую tmdb.



## Базове використання
1. Для базового використання профіль в "кинопоиск" потрібно щоб був публічний на час роботи скрипту (10-20 секунд).
2. У файлі config.json потрібно змінити значення baseUrl, замість XXX вписати ваш "кинопоиск" ідентифікатор

```
"baseUrl": "https://www.kinopoisk.ru/user/XXX/votes/list/ord/date/page/%d/"
```
3. Запустити data-exporter.exe (для windows) чи data-exporter (для linux)

Перегляди будуть записані з оцінкою 0.

## Просунуте використання

#### Запуск скрипту з перепризначенням baseUrl
```
data-exporter.exe -baseUrl="https://www.kinopoisk.ru/user/XXX/votes/list/ord/date/page/%d/"
```

#### Запуск скрипту з перепризначенням fileName
```
data-exporter.exe -fileName="mykp_votes.csv"
```

#### Запуск скрипту з перепризначенням файлу конфігурації
```
data-exporter.exe -config="config.json"
```
Можна комбінувати

## Додаткові можливості
У файлі config.json є багато значень:
- regexpPattern - паттерн регулярного виразу, який збирає id, nameEn, nameRu, date, vote зі сторінки кп
- regexpPatternPages - паттерн регулярного виразу, який знаходить сторінки. Це для визначення кількості сторінок.
- csvHeaders - це те, що буде в експортованому файлі в першому рядку.
- regexpIndexes - індекси результатів regexpPattern, які записувати і в якому порядку.
- regexpIndexVote - індекс результату regexpPattern, де є ваша оцінка (потрібно тільки якщо regexpConvertVoteToNumber true)
- regexpConvertVoteToNumber - чи конвертувати оцінку в число
- fileName - назва файлу з вашими оцінками, що скрипт створить
- httpHeaders - якщо не знаєте, що це, то вам це не потрібно :)

